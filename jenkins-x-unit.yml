buildPack: gradle
pipelineConfig:
  agent:
    image: gcr.io/jenkinsxio/builder-gradle5-java11:latest
    label: jenkins-gradle
  env:
    - name: DOCKER_REGISTRY
      value: gcr.io
    - name: GOOGLE_APPLICATION_CREDENTIALS
  pipelines:
    pullRequest:
      pipeline:
        env:
          - name: DOCKER_REGISTRY
            value: gcr.io
          - name: GOOGLE_APPLICATION_CREDENTIALS
        stages:
          - agent:
              image: gcr.io/jenkinsxio/builder-gradle5-java11:latest
            dir: /workspace/source
            name: from-build-pack
            steps:
              - command: gradle clean build
                dir: /workspace/source
                image: gcr.io/jenkinsxio/builder-gradle5-java11:latest
                name: build-gradle-build